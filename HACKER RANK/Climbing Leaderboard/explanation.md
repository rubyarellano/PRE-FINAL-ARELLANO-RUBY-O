This function calculates each player’s rank on a leaderboard. It first removes duplicate scores from the ranked list and sorts them in descending order. Then, for each player’s score, it compares it with the leaderboard from the bottom up to find the correct rank. If the player’s score equals or beats a leaderboard score, it moves up. Finally, it records the player’s rank and returns a list of all their rankings in order.